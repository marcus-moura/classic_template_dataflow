{"config":{"lang":["pt"],"separator":"[\\s\\-]+","pipeline":["stopWordFilter"]},"docs":[{"location":"","title":"GCP Classic Template","text":""},{"location":"#descricao","title":"Descri\u00e7\u00e3o","text":"<p>Este projeto facilita a constru\u00e7\u00e3o de templates cl\u00e1ssicos para fluxos de dados no Google Cloud Dataflow. Ele oferece uma estrutura robusta e flex\u00edvel para criar pipelines de processamento de dados de forma eficiente e escal\u00e1vel. Al\u00e9m disso, inclui um pipeline de Integra\u00e7\u00e3o Cont\u00ednua/Entrega Cont\u00ednua (CI/CD) simples para automatizar o processo de build e deploy.</p>"},{"location":"#estrutura-do-projeto","title":"Estrutura do Projeto","text":"<pre><code>\u251c\u2500\u2500 .github/workflows\n\u2502   \u251c\u2500\u2500 pipeline-template-dataflow.yml\n\u251c\u2500\u2500 classic_template\n\u2502   \u251c\u2500\u2500 .env\n\u2502   \u251c\u2500\u2500 metadata.json\n\u2502   \u251c\u2500\u2500 pipe_voos_to_bigquery.py\n\u251c\u2500\u2500 input\n\u2502   \u251c\u2500\u2500 voos_sample.csv\n\u251c\u2500\u2500 setup_env\n\u2502   \u251c\u2500\u2500 build_template.sh\n\u2502   \u251c\u2500\u2500 create_bucket.sh\n\u2502   \u251c\u2500\u2500 deploy_job.sh\n\u251c\u2500\u2500 .gitignore\n\u251c\u2500\u2500 .python-version\n\u251c\u2500\u2500 poetry.lock\n\u251c\u2500\u2500 pyproject.toml\n</code></pre>"},{"location":"#requisitos","title":"Requisitos","text":"<p>Certifique-se de ter os seguintes pr\u00e9-requisitos instalados:</p> <ul> <li>Google Cloud SDK</li> <li>Python</li> <li>Poetry</li> </ul>"},{"location":"#instalacao","title":"Instala\u00e7\u00e3o","text":"<ol> <li> <p>Clone o reposit\u00f3rio:     <pre><code>git clone https://github.com/yourusername/cp-classic-template-dataflow.git\n</code></pre></p> </li> <li> <p>Navegue at\u00e9 o diret\u00f3rio do projeto:</p> <pre><code>cd gcp-classic-template-dataflow\n</code></pre> </li> <li> <p>Instale as depend\u00eancias usando poetry:</p> <p><pre><code>poetry install\n</code></pre> 4. Ative o ambiente virtual do projeto:</p> <pre><code>poetry shell\n</code></pre> </li> </ol> <p>Dessa forma, voc\u00ea ter\u00e1 um ambiente Python isolado para o projeto, evitando conflitos entre depend\u00eancias de outros projetos.</p>"},{"location":"#uso","title":"Uso","text":""},{"location":"#carregando-variaveis-de-ambiente","title":"Carregando Vari\u00e1veis de Ambiente","text":"<p>Comece carregando as vari\u00e1veis de ambiente definidas em seu arquivo <code>.env</code> com o seguinte comando: <pre><code>export $(cat classic_template/.env | xargs)\n</code></pre></p> <p>Dica</p> <p>Utilize o arquivo classic_template/exemplo.env como base.</p>"},{"location":"#configuracao-do-bucket","title":"Configura\u00e7\u00e3o do Bucket","text":"<p>Para criar o bucket, execute o seguinte script: create_bucket.sh<pre><code>gcloud storage buckets create gs://$BUCKET_NAME --default-storage-class STANDARD --location $REGION\n</code></pre></p> <p>Nota</p> <p>Dentro do bucket, crie um diret\u00f3rio chamado <code>input</code> e fa\u00e7a o upload do  arquivo <code>input/sample.csv</code>.</p>"},{"location":"#construcao-do-template","title":"Constru\u00e7\u00e3o do Template","text":"<p>Prepare o template executando o script <code>build_template.sh</code> na pasta <code>setup_env</code>: build_template.sh<pre><code>sh setup_env/build_template.sh\n</code></pre></p>"},{"location":"#implantacao","title":"Implanta\u00e7\u00e3o","text":"<p>Para criar um job com base no template, execute o seguinte comando: <pre><code>sh setup_env/deploy_job.sh\n</code></pre></p>"},{"location":"#configuracao-do-cicd","title":"Configura\u00e7\u00e3o do CI/CD","text":"<p>Configure os jobs de CI/CD no GitHub Actions, seguindo o exemplo do arquivo <code>pipeline-template-dataflow.yml</code>.</p>"},{"location":"#fluxo-do-cicd","title":"Fluxo do CI/CD","text":"<p>O pipeline de CI/CD \u00e9 acionado por pushs na branch <code>main</code> e executa as seguintes etapas: - Instala\u00e7\u00e3o do Poetry. - Autentica\u00e7\u00e3o no Google Cloud. - Configura\u00e7\u00e3o do SDK do Google Cloud. - Constru\u00e7\u00e3o do template para o bucket. - Implanta\u00e7\u00e3o do template no Dataflow.</p>"},{"location":"#links-uteis","title":"Links \u00dateis","text":"<ul> <li>Documenta\u00e7\u00e3o do Google Cloud SDK</li> <li>Python</li> <li>GitHub Actions</li> </ul>"}]}